# ❗❗❗ This file is autogenerated! ❗❗❗
# Managed by github.com/MyOnlineStore/repo-templating
# Changing this file will end badly, be wary.

name: CI

on: pull_request

env:
  NPM_TOKEN: ${{ secrets.NPM_TOKEN }}
jobs:
  test:
    name: Test
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v2

    # Configure npm to pull from private github repos
    - name: Setup npm authentication
      run: |
        echo "//registry.npmjs.org/:_authToken=$NPM_TOKEN" >> .npmrc

    # Build the Docker image
    - name: Build Image
      env:
        DOCKER_BUILDKIT: 1
      run: |
        docker build --secret id=npm_rc,src=.npmrc .
